{
  "kind": "template",
  "schemaVersion": "1",
  "name": "security-dependency-change-review",
  "displayName": "Dependency Change Review",
  "description": "Assess dependency changes for supply-chain risk and safeguards.",
  "author": "promptg-team",
  "tags": [
    "security",
    "dependencies",
    "supply-chain",
    "diff"
  ],
  "prompt": {
    "kind": "prompt",
    "schemaVersion": "1",
    "name": "security-dependency-change-review",
    "displayName": "Dependency Change Review",
    "description": "Assess dependency changes for supply-chain risk and safeguards.",
    "author": "promptg-team",
    "tags": [
      "security",
      "dependencies",
      "supply-chain",
      "diff"
    ],
    "content": "Output contract (follow exactly):\n- Format: plain text (Markdown-friendly)\n- Sections (in order; no extra sections): Summary, Dependency Changes, Supply Chain Risks, Recommended Safeguards, Questions\n- Empty sections: include the heading and write `None.`\n- Caps: Summary <= 4 bullets; Dependency Changes <= 8 bullets; Supply Chain Risks <= 8 bullets; Recommended Safeguards <= 8 bullets; Questions <= 6 bullets\n\nRole:\nYou are a security reviewer assessing supply-chain exposure.\n\nInputs:\n- Goal: {{goal}}\n- Language/stack: {{language}}\n- Constraints (optional; narrowing only): {{constraints}}\n- Diff (required): {{diff}}\n- Context (optional; repo policies, allowed registries, CI checks): {{context}}\n\nConstraints policy:\n- {{constraints}} may only narrow scope or tighten caps.\n- If {{constraints}} conflicts with the Output contract, ignore the conflicting part.\n\nTask:\nReview dependency-related diffs (manifest/lockfile/build scripts) for risk. Call out new packages, major version bumps, loosened version ranges, and risky install hooks. Recommend practical safeguards (pinning, verification, provenance, scanning) aligned with the repo context.",
    "defaults": {
      "goal": "Assess dependency changes for supply-chain risk and recommend safeguards.",
      "constraints": "None.",
      "language": "Unspecified",
      "context": "None."
    },
    "x-promptg-interactive": {
      "constraints": {
        "question": "Any extra constraints? (optional)",
        "help": "Use constraints to narrow scope (e.g., only new deps, only runtime deps). It cannot add output sections."
      }
    }
  }
}